<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BMI Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    #needle {
      position: absolute;
      left: 45px; /* keep it on the right side of the meter */
      width: 24px;
      transition: top 0.5s ease-in-out;
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-gray-100">

  <div class="bg-white p-8 rounded-2xl shadow-xl w-[420px]">
    <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">BMI Calculator</h2>

    <!-- Gender -->
    <div class="mb-4">
      <label class="block text-gray-700 font-medium mb-1">Gender</label>
      <select id="gender" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500">
        <option value="">Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
      </select>
    </div>

    <!-- Age -->
    <div class="mb-4">
      <label class="block text-gray-700 font-medium mb-1">Age</label>
      <input id="age" type="number" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500" placeholder="Enter age">
    </div>

    <!-- Weight (kg) -->
    <div class="mb-4">
      <label class="block text-gray-700 font-medium mb-1">Weight (kg)</label>
      <input id="weightKg" type="number" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500" placeholder="Enter weight in kg">
    </div>

    <!-- Height -->
    <div class="mb-4">
      <label class="block text-gray-700 font-medium mb-1">Height (cm)</label>
      <input id="height" type="number" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-blue-500" placeholder="Enter height">
    </div>

    <!-- Button -->
    <button onclick="calculateBMI()" class="w-full bg-blue-500 text-white py-2 rounded-lg font-medium hover:bg-blue-600 transition">
      Calculate
    </button>

    <!-- Result -->
    <div id="result" class="mt-6 text-center text-lg font-semibold text-gray-800"></div>

    <!-- BMI Meter -->
    <div class="flex justify-center mt-8">
      <div class="relative w-28 h-80 border rounded-lg overflow-hidden flex flex-col">

        <!-- Color bands -->
        <div class="flex-1 bg-yellow-400 flex items-center justify-center text-xs">Underweight</div>
        <div class="flex-1 bg-green-600 text-white flex items-center justify-center text-xs">Healthy</div>
        <div class="flex-1 bg-blue-600 text-white flex items-center justify-center text-xs">Overweight</div>
        <div class="flex-1 bg-orange-500 text-white flex items-center justify-center text-xs">Obese</div>
        <div class="flex-1 bg-red-600 text-white flex items-center justify-center text-xs">Extremely Obese</div>

        <!-- Needle -->
        <img id="needle" 
             src="https://cdn-icons-png.flaticon.com/512/32/32195.png" 
             alt="needle"
             style="top:0;">
      </div>
    </div>
  </div>

  <script>
    function calculateBMI() {
      const gender = document.getElementById("gender").value.trim();
      const age = parseInt(document.getElementById("age").value);
      const weightKg = parseFloat(document.getElementById("weightKg").value);
      const height = parseFloat(document.getElementById("height").value) / 100;
      const resultBox = document.getElementById("result");
      const needle = document.getElementById("needle");

      if (!gender || !age || !weightKg || !height) {
        resultBox.innerHTML = "⚠️ Please enter all values.";
        return;
      }

      const bmi = (weightKg / (height * height)).toFixed(1);

      let category = '';
      if (bmi < 18.5) category = 'Underweight';
      else if (bmi < 25) category = 'Healthy';
      else if (bmi < 30) category = 'Overweight';
      else if (bmi < 35) category = 'Obese';
      else category = 'Extremely Obese';

      resultBox.innerHTML = `
        Gender: <span class="text-purple-600">${gender}</span><br>
        Age: <span class="text-green-600">${age}</span> years<br>
        Your BMI is <span class="text-blue-600">${bmi}</span> (${category})
      `;

      // Needle position based on BMI
      const meterHeight = 320; // h-80
      let offsetPx = 0;

      if (bmi < 18.5) offsetPx = 0;       // top of meter
      else if (bmi < 25) offsetPx = 64;   // Healthy slightly above center
      else if (bmi < 30) offsetPx = 128;
      else if (bmi < 35) offsetPx = 192;
      else offsetPx = 256;                 // bottom of meter

      needle.style.top = `${offsetPx}px`;
    }
  </script>
</body>
</html>
